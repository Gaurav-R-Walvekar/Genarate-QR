<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-qrcode"></i> QR Code Generator</h1>
            <p>Generate QR codes instantly with custom size and download options</p>
        </header>

        <main>
            <div class="input-section">
                <div class="input-group">
                    <label for="qr-text">Enter text or URL:</label>
                    <textarea id="qr-text" placeholder="Enter your text, URL, or any content here..." rows="3"></textarea>
                </div>

                <div class="settings-group">
                    <div class="setting-item">
                        <label for="qr-size">QR Code Size:</label>
                        <div class="size-controls">
                            <input type="range" id="qr-size" min="128" max="512" value="256" step="32">
                            <span id="size-value">256px</span>
                        </div>
                    </div>

                    <div class="setting-item">
                        <label for="qr-foreground">Foreground Color:</label>
                        <input type="color" id="qr-foreground" value="#000000">
                    </div>

                    <div class="setting-item">
                        <label for="qr-background">Background Color:</label>
                        <input type="color" id="qr-background" value="#FFFFFF">
                    </div>
                </div>

                <button id="generate-btn" class="generate-btn">
                    <i class="fas fa-magic"></i> Generate QR Code
                </button>
            </div>

            <div class="output-section" id="output-section" style="display: none;">
                <h3>Generated QR Code</h3>
                <div class="qr-container">
                    <canvas id="qr-canvas"></canvas>
                </div>
                
                <div class="qr-info">
                    <p><strong>Content:</strong> <span id="qr-content">-</span></p>
                    <p><strong>Size:</strong> <span id="qr-size-display">-</span></p>
                    <p><strong>Test:</strong> Scan this QR code with your mobile camera to verify it works!</p>
                    <p><strong>QR Code Structure:</strong> Standard QR Code Library - ISO-compliant QR codes with proper error correction</p>
                </div>
                
                <div class="download-options">
                    <h4>Download Options:</h4>
                    <div class="download-buttons">
                        <button id="download-png" class="download-btn png-btn">
                            <i class="fas fa-download"></i> Download PNG
                        </button>
                        <button id="download-jpg" class="download-btn jpg-btn">
                            <i class="fas fa-download"></i> Download JPG
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>QR Code Generator - Create and download QR codes easily</p>
        </footer>
    </div>

    <script src="qrcodegen.js"></script>
    <script>
        // Global error handler
        window.showError = function(message) {
            console.error(message);
            // Create a simple notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: #dc3545;
                color: white;
                border-radius: 8px;
                z-index: 1000;
                font-weight: 600;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 5000);
        };
        
        // Check if Nayuki QRCode library loaded
        if (typeof qrcodegen === 'undefined') {
            console.error('Nayuki QRCode library failed to load');
            showError('QR Code library failed to load. Please refresh the page.');
        } else {
            console.log('Nayuki QRCode library loaded successfully');
        }
    </script>
    <script src="script.js"></script>
</body>
</html> 